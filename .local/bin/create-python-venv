#!/bin/sh

gitroot="$(git rev-parse --show-toplevel 2> /dev/null)"
trim="${gitroot%"${gitroot##*[!/]}"}"
projectdir="${trim##*/}"
venvdir=$HOME/.cache/python-venv

mkdir -pv $venvdir

if [ "$1" != "" ]; then
	python -m venv $venvdir/$1 2> /dev/null && echo "Created $1 python venv"

elif [ "$projectdir" != "" ]; then
	python -m venv $venvdir/$projectdir 2> /dev/null && echo "Created $projectdir python venv"

else
	echo "Not git repo, please insert a name for virtual env (for example: pce nganu)"

fi
